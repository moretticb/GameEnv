package level;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Point;
import java.awt.event.ComponentEvent;
import java.awt.event.ComponentListener;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.MouseMotionListener;
import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;
import java.awt.image.BufferedImage;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.RepaintManager;

import img.ImageManager;

public class MapEditor {
	
	private static int FRAMEWIDTH = 1920;
	private static int FRAMEHEIGHT = 1080;
	
	private static BufferedImage tileset = ImageManager.getImage("pokeTileset.png");
	private static int tileSize = 16;
	private static int rows = 32;
	private static int cols = 79;
	
	private static int zoom = 2;
	
	private static String[][] levelStructure;
	
	private static MouseL mouseListener = new MouseL();
	private static Point mapCursorPos = new Point(-1,-1);
	private static Point palCursorPos = new Point(-1,-1);
	private static Point palChosen = new Point(-1,-1);
	
	public static void main(String[] args){
		levelStructure = new String[cols][];
		for(int i=0;i<cols;i++){
			levelStructure[i] = new String[rows];
			for(int j=0;j<rows;j++){
				levelStructure[i][j] = "3_1";
			}
		}
		
		MapEditorWindow editor = new MapEditorWindow();
	}
	
	
	public static class MapEditorWindow extends JFrame {
		
		
		private JScrollPane mapPane;
		private JScrollPane palette;
		
		public MapEditorWindow(){
			super();
			
			
			
			String[][] map = {{"3-28","3-29","1_29","1_29","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","2-31","2-32","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","10_22","10-23","10-23","10-23","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1_29","1_29","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","5_21","5_20","5_20","5_20","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","13-29","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","10-22","10-23","10-23","10-23","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","14-29","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1_29","1_29","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","10_22","10-23","10-23","10-23","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1_29","1_29","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","0_17","0_17","0_17","13_27","13_28","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","21-19","21-20","1_29","21-20","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","10-28","10-29","10-29","3-20","8-30","0_17","0_17","0_17","14_27","14_28","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1_29","1_29","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","0_17","0_17","0_17","15_27","15_28","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","0-25","0-26","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","5_20","5_20","5_20","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1-25","1-26","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","0_32","5_20","5_20","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","3-25","3-26","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","6-16","0_32","0_32","0_32","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1_29","1_29","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","3_34","0_32","0_32","0_32","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"16-24","16-25","1_29","1_29","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","4_34","0_32","0_32","0_32","8-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","3_34","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1_29","24_18","1_29","1_29","3_34","0_1","0_1","0_1","0_1","0_1","0_1","0_1","3-19","3-20","3-20","3-20","9-30","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","4_34","3_0","3_0","3_0","3_0"},
					{"1_29","1_29","1_29","24_18","1_29","1_29","4_34","0_1","0_1","0_1","0_1","0_1","0_1","0_1","3-19","3-21","0_17","0_17","0_17","0_17","13_28","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"35-22","35-23","1_29","24_18","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","3_34","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","14_27","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"36-22","36_23","1_29","24_18","1_29","1_29","1-20","0_1","0_1","0_1","0_1","0_1","0_1","0_1","4_34","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","0_17","8-30","3_0","3_0","3_0","3_0"},
					{"22-3","22-3","22-3","22-3","22-3","22-3","22-3","22_21","22_21","22_21","22_21","0_1","0_1","0_1","10-28","3-20","3-20","3-20","3-20","3-20","3-20","3-20","3-20","3-20","3-20","3-20","3-20","9-30","3_0","3_0","3_0","3_0"},
					{"11-38","9_38","11-38","9_38","11-38","9_38","10-31","0_0","0_0","0_0","12-7","0_1","0_1","0_1","8-30","0_1","0_1","1-20","0_1","0_1","8-30","0_1","0_1","8-30","0_1","0_1","0_1","7-30","3_0","3_0","3_0","3_0"},
					{"9_38","9_38","9_38","9_38","9_38","9_38","0_29","0_0","0_0","0_0","12-7","0_1","0_1","0_1","0_29","0_1","0_1","1-20","0_1","0_1","8-30","0_1","0_1","8-30","0_1","0_1","0_1","8-30","3_0","3_0","3_0","3_0"},
					{"9_38","9_38","9_38","9_38","9_38","9_38","10-31","0_0","0_0","0_0","12-7","0_1","0_1","0_1","8-30","0_1","0_1","1-20","0_1","0_1","8-30","0_1","0_1","8-30","0_1","0_1","0_1","3_34","3_0","3_0","3_0","3_0"},
					{"10-28","10-29","10-29","10-29","3-20","3-20","3-21","0_0","0_0","0_0","12-7","0_1","0_1","0_1","8-30","0_1","0_1","1-20","0_1","0_1","8-30","0_1","0_1","8-30","0_1","0_1","0_1","4_34","3_0","3_0","3_0","3_0"},
					{"11-38","9_38","11-38","9_38","11-38","9_38","10-31","0_0","0_0","0_0","12-7","0_1","0_1","0_1","8-30","0_1","0_1","1-20","0_1","0_1","8-30","0_1","0_1","8-30","0_1","0_1","0_1","8-30","3_0","3_0","3_0","3_0"},
					{"9_38","9_38","9_38","9_38","9_38","9_38","0_29","0_0","0_0","0_0","12-7","0_1","0_1","0_1","3-19","10-30","0_29","3-20","10-30","0_29","10-28","10-30","0_29","10-28","10-30","0_29","10-29","9-30","3_0","3_0","3_0","3_0"},
					{"9_38","9_38","9_38","9_38","9_38","9_38","10-31","0_0","0_0","0_0","12-7","0_1","0_1","0_1","0_1","0_1","0_1","0_1","0_1","0_1","0_1","21-30","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"10-28","3-20","3-20","3-20","3-20","3-20","7-30","0_0","0_0","0_0","12-7","0_1","0_1","0_1","0_1","0_1","0_1","0_1","0_1","0_1","0_1","3_34","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","0_0","13-9","9-7","9-7","9-7","9-7","9-7","9-7","9-7","9-8","0_1","0_1","4_34","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","21_5","0_1","0_1","22-30","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"7-22","7-23","7-24","7-25","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","21_5","0_1","0_1","22-30","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"8-22","8-23","8-24","8-25","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","21_5","0_1","0_1","3_34","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","21_5","0_1","0_1","4_34","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","21_5","0_1","0_1","22-30","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"7-22","7-23","7-24","7-25","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","21_5","0_1","0_1","23-30","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"8-22","8-23","8-24","8-25","0_0","0_0","8-30","10-28","4_35","10-29","3_35","3_36","10-29","7_30","0_0","0_0","0_0","0_0","10-28","3-20","3-20","3-20","3-20","3-20","3-20","7-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","33-20","33-21","0_0","33-20","33-21","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"7-22","7-23","7-24","7-25","0_0","0_0","2-34","2-35","2-35","2-36","0_0","11-6","0_0","8-30","0_0","0_0","0_0","0_0","0_0","34-20","34-21","0_0","34-20","34-21","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"8-22","8-23","8-24","8-25","0_0","0_0","2-34","2-35","2-35","2-36","0_0","12-6","0_0","8-30","0_0","33-20","33-21","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","9-7","9-7","9-8","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","12-6","0_0","8-30","0_0","34-20","34-21","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","4_35","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","12-6","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","4_35","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"7-22","7-24","7-25","0_0","0_0","0_0","2-34","2-35","2-35","2-36","0_0","12-6","0_0","8-30","23-19","23-20","24-18","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","4_35","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"8-22","8-24","8-25","0_0","0_0","0_0","2-34","2-35","2-35","2-36","0_0","12-6","0_0","8-30","0_0","0_0","24-18","9-23","0_0","33-20","33-21","0_0","33-20","33-21","0_0","8-30","10-7","10-7","10-8","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","12-6","0_0","8-30","0_0","0_0","24-18","24-19","0_0","34-20","34-21","0_0","34-20","34-21","0_0","4_35","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","12-6","0_0","8-30","26-19","0_0","24-18","25-19","0_0","0_0","0_0","0_0","0_0","0_0","0_0","4_35","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"33-20","33-21","0_0","33-20","33-21","0_0","2-34","2-35","2-35","2-36","0_0","12-6","0_0","8-30","25-19","0_0","24-18","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","4_35","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"34-20","34-21","0_0","34-20","34-21","0_0","2-34","2-35","2-35","2-36","0_0","12-6","0_0","8-30","0_0","0_0","24-18","9-22","0_0","33-20","33-21","0_0","33-20","33-21","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","12-6","0_0","8-30","26-19","0_0","24-18","9-22","0_0","34-20","34-21","0_0","34-20","34-21","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"33-20","33-21","0_0","33-20","33-21","0_0","0_0","0_0","0_0","0_0","0_0","12-6","0_0","8-30","27-19","0_0","24-18","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"34-20","34-21","0_0","34-20","34-21","0_0","2-34","2-35","2-35","2-36","0_0","13-6","0_0","8-30","0_0","0_0","24-18","9-23","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","24-18","0_0","0_0","33-20","33-21","0_0","33-20","33-21","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","7-30","0_0","0_0","0_0","8-30","29-21","0_0","24-18","9-22","0_0","34-20","34-21","0_0","34-20","34-21","0_0","8-30","7_19","7_19","7_20","7_21","3_0","3_0"},
					{"10-28","10-29","10-29","10-29","10-29","10-29","10-29","10-29","10-29","9-30","0_0","0_0","0_0","8-30","30-21","0_0","24-18","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","8_20","8_20","8_20","7_20","7_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","8-30","1-28","1-28","0_0","0_0","0_0","0_0","0_0","8-30","31-21","0_0","24-18","9-23","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","8_20","8_20","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","8-30","1-28","1-28","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","24-18","0_0","0_0","33-20","33-21","0_0","33-20","33-21","0_0","8-30","8_20","8_20","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","8-30","1-28","1-28","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","24-18","9-22","0_0","34-20","34-21","0_0","34-20","34-21","0_0","8-30","8_20","8_20","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","8-30","1-28","1-28","0_0","0_0","0_0","0_0","0_0","8-30","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","8_20","8_20","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","10-28","10-29","10-29","10-29","10-29","10-29","10-29","10-29","10-29","10-28","0_29","6-16","9-23","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","8_20","8_20","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","8-28","0_1","0_1","6-16","0_0","0_0","0_0","0_0","0_0","7-28","7-29","7-29","8-30","8_20","8_20","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","8-28","0_1","0_1","7-16","7-17","0_0","0_0","0_0","0_0","8-28","8-29","8-29","8-30","8_20","8_20","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","10-29","10-29","10-29","8-16","8-17","0_0","15-19","15-20","0_0","8-28","8-29","8-29","8-30","10_19","10_19","8_20","8_20","8_21","3_0"},
					{"1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","9-16","9-17","0_0","16-19","16-20","0_0","8-28","8-29","8-29","8-30","8_20","8_20","8_20","10_20","10_21","3_0"},
					{"3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","7-16","7-17","0_0","15-19","15-20","0_0","8-28","8-29","8-29","8-30","10_19","10_19","10_20","10_21","3_0","3_0"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","8-16","8-17","0_0","16-19","16-20","0_0","8-28","8-29","8-29","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","9-16","9-17","0_0","0_0","0_0","0_0","8-28","8-29","8-29","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","1_22","1_22","1_22","1_22","6-16","0_0","0_0","0_0","0_0","0_0","9-28","9-29","9-29","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","1_22","1_22","1_22","6-16","0_0","0_0","0_0","0_0","0_0","0_0","0_0","0_0","8-30","3_0","3_0","3_0","3_0","3_0","3_0"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","1_22","1_22","6-16","25-21","25-22","25-22","25-23","0_0","0_0","0_0","0_0","8-30","3_0","9_38","9_38","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","1_22","6-16","0_17","0_17","0_17","30-21","0_0","0_0","0_0","0_0","8-30","3_0","9_38","10-39","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","1_22","6-16","0_17","0_17","0_17","30-21","0_0","0_0","0_0","0_0","8-30","3_0","9_38","11-39","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","6-16","0_17","0_17","0_17","30-21","0_0","0_0","0_0","0_0","8-30","3_0","9_38","9_38","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","1_22","6-16","0_17","25-22","25-22","30-21","17-16","0_29","17-16","17-16","8-30","3_0","9_38","9_38","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","6-16","0_17","0_17","0_17","30-21","18_18","18_18","18_18","18_18","8-30","3_0","9_38","9_38","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","6-16","0_17","0_17","0_17","30-21","18_18","18_18","18_18","18_18","8-30","3_0","9_38","10-39","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","6-16","0_17","0_17","0_17","30-21","18_18","18_18","18_18","18_18","8-30","3_0","9_38","11-39","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","6-16","0_17","0_17","0_17","30-21","18_18","18_18","18_18","18_18","8-30","3_0","9_38","9_38","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","6-16","0_17","0_17","0_17","30-21","18_18","18_18","18_18","18_18","8-30","3_0","9_38","10-39","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","6-16","0_17","0_17","0_17","30-21","18_18","18_18","18_18","18_18","8-30","3_0","9_38","11-39","9_38","9_38","9_38"},
					{"3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","3_1","1_22","1_22","6-16","0_17","0_17","0_17","30-21","18_18","18_18","18_18","18_18","8-30","3_0","9_38","9_38","9_38","9_38","9_38"}};

			for(int j=0;j<map[0].length;j++){
				for(int i=0;i<map.length;i++){
						System.out.print(map[i][j]+",");
					}
					System.out.println();
				}
			
			
			System.exit(0);
			
			setBounds(0, 0, FRAMEWIDTH, FRAMEHEIGHT);
			setLayout(new BorderLayout());
			
			mapPane = new JScrollPane(new EditableMap(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
			mapPane.setPreferredSize(new Dimension((int)(FRAMEWIDTH*0.7), 10));
			getContentPane().add(mapPane, BorderLayout.LINE_START);
			
			palette = new JScrollPane(new TilePalette(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
			palette.setPreferredSize(new Dimension((int)(FRAMEWIDTH*0.3), 10));
			getContentPane().add(palette, BorderLayout.LINE_END);
			
			addKeyListener(new KeyListener() {
				
				@Override
				public void keyTyped(KeyEvent e) {
					if(e.getKeyChar() == ' '){
						outputMap();
					}
				}
				
				@Override
				public void keyReleased(KeyEvent arg0) {
				}
				
				@Override
				public void keyPressed(KeyEvent arg0) {
				}
			});
			
			getContentPane().addComponentListener(new ComponentListener() {
				
				public void componentShown(ComponentEvent arg0) {}
				
				public void componentResized(ComponentEvent e) {
					mapPane.setPreferredSize(new Dimension((int)(getContentPane().getWidth()*0.7), 10));
					palette.setPreferredSize(new Dimension((int)(getContentPane().getWidth()*0.3), 10));
					
					remove(mapPane);
					remove(palette);
					getContentPane().add(mapPane, BorderLayout.LINE_START);
					getContentPane().add(palette, BorderLayout.LINE_END);
				}
				
				public void componentMoved(ComponentEvent arg0) {}
				public void componentHidden(ComponentEvent arg0) {}
			});
			
			setVisible(true);
		}
		
		private void outputMap(){
			System.out.println("---");
			for(int i=0;i<cols;i++){
				for(int j=0;j<rows;j++){
					System.out.print(levelStructure[i][j]+",");
				}
				System.out.println();
			}
			System.out.println("---");
		}
		
	}
	
	private static class EditableMap extends JPanel {
		
		public EditableMap(){
			setBounds(0,0,cols*(tileSize*zoom), rows*(tileSize*zoom));
			setPreferredSize(new Dimension(cols*(tileSize*zoom), rows*(tileSize*zoom)));
			setBackground(Color.GREEN);
			
			addMouseListener(mouseListener);
			addMouseMotionListener(mouseListener);
		}
		
		public void paint(Graphics g){
			for(int j=0;j<rows;j++){
				for(int i=0;i<cols;i++){
					String coord = levelStructure[i][j];
					boolean wall = coord.indexOf("-")>-1;
					String[] dims = coord.split(wall?"-":"_");
					Point p = new Point(Integer.parseInt(dims[0])*tileSize,Integer.parseInt(dims[1])*tileSize);
					g.setColor(wall ? Color.RED : Color.GREEN);
					
					g.drawImage(tileset, i*(tileSize*zoom), j*(tileSize*zoom), (i+1)*(tileSize*zoom), (j+1)*(tileSize*zoom), p.x, p.y, p.x+tileSize, p.y+tileSize, null);
					g.drawRect(i*tileSize*zoom, j*tileSize*zoom, tileSize*zoom-1, tileSize*zoom-1);
					
					if(mapCursorPos.x > -1 && mapCursorPos.y > -1){
						g.setColor(Color.BLUE);
						g.drawRect(mapCursorPos.x*tileSize*zoom, mapCursorPos.y*tileSize*zoom, tileSize*zoom, tileSize*zoom);
					}
				}
			}
		}
		
	}
	
	private static class TilePalette extends JPanel {
		
		public TilePalette(){
			setBounds(0,0,tileset.getWidth(), tileset.getHeight());
			setPreferredSize(new Dimension(tileset.getWidth()*zoom, tileset.getHeight()*zoom));
			setBackground(Color.RED);
			
			addMouseListener(mouseListener);
			addMouseMotionListener(mouseListener);
		}
		
		public void paint(Graphics g){
			g.setColor(Color.GREEN);
			g.fillRect(0, 0, tileset.getWidth()*zoom, tileset.getHeight()*zoom);
			g.drawImage(tileset, 0, 0, tileset.getWidth()*zoom, tileset.getHeight()*zoom, null);
			
			if(palCursorPos.x > -1 && palCursorPos.y > -1){
				g.setColor(Color.BLUE);
				g.drawRect(palCursorPos.x*tileSize*zoom, palCursorPos.y*tileSize*zoom, tileSize*zoom, tileSize*zoom);
			}
			if(palChosen.x > -1 && palChosen.y > -1){
				g.setColor(Color.BLACK);
				g.drawRect(palChosen.x*tileSize*zoom, palChosen.y*tileSize*zoom, tileSize*zoom, tileSize*zoom);
			}
		}
		
	}
	
	private static class MouseL implements MouseListener, MouseMotionListener {

		@Override
		public void mouseClicked(MouseEvent arg0) {
		}

		@Override
		public void mouseEntered(MouseEvent arg0) {
		}

		@Override
		public void mouseExited(MouseEvent e) {
			if(e.getSource() instanceof EditableMap){
				mapCursorPos.setLocation(-1, -1);
			} else if(e.getSource() instanceof TilePalette){
				palCursorPos.setLocation(-1, -1);
			}
		}

		@Override
		public void mousePressed(MouseEvent arg0) {
		}

		@Override
		public void mouseReleased(MouseEvent e) {
			if(e.getSource() instanceof TilePalette){
				palChosen.setLocation(palCursorPos.x, palCursorPos.y);
				((TilePalette) e.getSource()).repaint();
			} else if(e.getSource() instanceof EditableMap){
				if(palChosen.x > -1 && palChosen.y > -1){
					levelStructure[mapCursorPos.x][mapCursorPos.y] = String.format("%d%c%d", palChosen.x, (e.getButton()==MouseEvent.BUTTON1)?'_':'-', palChosen.y); 
				}
				((EditableMap) e.getSource()).repaint();
			}
		}

		@Override
		public void mouseDragged(MouseEvent arg0) {
		}

		@Override
		public void mouseMoved(MouseEvent e) {
			if(e.getSource() instanceof EditableMap){
				mapCursorPos.setLocation(e.getX()/(tileSize*zoom), e.getY()/(tileSize*zoom));
				((EditableMap) e.getSource()).repaint();
			} else if(e.getSource() instanceof TilePalette){
				palCursorPos.setLocation(e.getX()/(tileSize*zoom), e.getY()/(tileSize*zoom));
				((TilePalette) e.getSource()).repaint();
			}
		}
		
	}

}
